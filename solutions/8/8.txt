int: cost_per_panel; % from dzn
int: electricity_per_panel; % from dzn
int: cost_per_kWh; % from dzn
int: yearly_demand; % from dzn

% Decision variable: Number of solar panels to purchase
var 0..10: num_panels;

% Cost calculation
var 0..5000: total_cost = num_panels * cost_per_panel;
var 0..5000: remaining_budget = 5000 - total_cost;

% Electricity generation and additional purchase calculation
var 0..10000: total_generation = num_panels * electricity_per_panel;
var 0..10000: additional_purchase = max(0, yearly_demand - total_generation);

var 0..5000: cost_of_purchase = additional_purchase * cost_per_kWh;

% Constraints
constraint total_cost <= 5000; % Budget constraint
constraint total_generation >= yearly_demand; % Must satisfy yearly demand

solve satisfy;

output ["Number of solar panels: " ++ show(num_panels) ++ "\n" ++
        "Total cost: $" ++ show(total_cost) ++ "\n" ++
        "Remaining budget: $" ++ show(remaining_budget) ++ "\n" ++
        "Electricity generated: " ++ show(total_generation) ++ " kWh\n" ++
        "Additional electricity purchase: " ++ show(additional_purchase) ++ " kWh\n" ++
        "Cost of purchase: $" ++ show(cost_of_purchase)];

cost_per_panel = 830;
electricity_per_panel = 800;
cost_per_kWh = 5;
yearly_demand = 4000;